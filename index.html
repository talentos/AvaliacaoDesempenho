<!DOCTYPE html>
<html ng-app="estagiarios">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Plugins -->
<link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.min.css">

<!--
<script language="javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>-->

<script src="lib/angular/angular.min.js"></script>


<!-- JS -->
<script src="js/app.js"></script>

<script src="js/controllers/listaEstagiariosCtrl.js"></script>



<!--Fonts-->

<!--Folha de estilos-->
<link rel="stylesheet" type="text/css" href="css/style.css"> 


<title>Avaliação de Desempenho</title>

</head>
		
<body>

	<div class="container">	
		<div class="row">
				
			<div class="col-sm-12" ng-controller="redirect">
				<h1 class="pageTitle">Estagiários</h1>					
				<button id="cadastrarEstagiario" class="btn btn-primary" ng-click="cadastrarNovoEstagiarioPage()"><span class="glyphicon glyphicon-plus"></span> Cadastrar</button>
				
			</div>
		</div>	

		<div class="row feedback">
				
			<div class="col-sm-12">

				<p class="feedback__message bg-success"></p>
			</div>
		</div>	

		<div class="viewEstagiarios" ng-controller="listaEstagiariosCtrl" >


			<div class="row">

				<div class="col-sm-10" >

			
					<span class="blockField" >
						<span class="preCombobox">Estagiários da unidade</span>					

						<select class="form-control combobox"  name="unidade"  ng-model="selectedUnidade" ng-options="unidade.nome for unidade in unidades | orderBy:name">
						    <option value="" default class="select-default">Escolha a Unidade</option>		  	
						</select>
					 </span>
					
					<span class="blockField">
						<span class="preCombobox">do setor de</span>
				
						<select class="form-control combobox" name="setor" ng-disabled="!selectedUnidade" ng-model="selectedSetor" ng-options="setor.nome for setor in getSetores(selectedUnidade) | orderBy:name">
							
						    <option value="" default class="select-default">Todos</option>
						</select>

					</span>

					<span class="blockField">

						<span class="preCombobox">no cargo de</span>

						<select class="form-control combobox" name="cargo" ng-disabled="!selectedUnidade" ng-model="selectedCargo" ng-options="cargo.nome for cargo in selectedSetor.cargos | orderBy:name">
						    <option value="">Todos</option>				  
						</select>

					</span>				
				</div>

				<div class="col-sm-1">
					<span class="blockField">
						<select name="status"
					      ng-options="option.value as option.name for option in statusOptions.availableOptions track by option.value" class="form-control combobox" ng-model="statusOptions.selectedStatus">
					      	<option value="" class="hide">Ativos</option>
					      </select>

				</div>	
			</div>
			<div class="row">
				<div class="col-sm-12">
					<div class="table-responsive viewEstagiarios__table">
						<table class="table table-striped table-hover" >

							<tr class="viewEstagiarios__table__labels">
								<th>Nome</th>
								<th>Admissão</th>
								<th>Última Av.</th>
								<th>Próxima Av.</th>
								<th>Ciclo</th>
								<th>Gestor</th>
								<th>
								</th>
							</tr>
							<tr ng-repeat="estagiario in estagiarios | filter:{setor:selectedSetor.nome} | filter:{cargo:selectedCargo.nome} | orderBy:'nome'" ng-if="selectedUnidade" ng-class="{danger:!estagiario.status, hide:statusOptions.selectedStatus==!estagiario.status}">
							   	<td>{{estagiario.nome}}</td>
								<td>{{estagiario.dataAdmissao}}</td>
								<td>{{estagiario.dataUltimaAvaliacao}}</td>
								<td></td>
								<td>{{estagiario.ciclo}}</td>
								<td>{{estagiario.gestor}}</td>
								<td class="viewEstagiarios__Table__options" ng-controller="redirect">
									<span ng-click="relatorioEstagiarioPage(estagiario.id)" title="Relatório" alt="Relatório" class="relatorioIcon glyphicon glyphicon-list"> </span>
									<span ng-click="avaliarEstagiarioPage(estagiario.id)" title="Avaliar" alt="Avaliar" class="avaliarIcon glyphicon glyphicon-education"> </span>
									<span ng-click="editarEstagiarioPage(estagiario.id)" title="Editar" alt="Editar" class="editarIcon glyphicon glyphicon-pencil"></span>
									<span ng-click="desligarEstagiario(estagiario.id)" title="Desligar" alt="Desligar" class="desligarIcon glyphicon glyphicon-remove"></span>
									
								</td>
							</tr>
						</table>
					</div>
				</div>	
			</div>
		</div>
	</div>	

	<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
	  <div class="modal-dialog modal-sm" role="document">
	    <div class="modal-content">
	    	<div class="modal-body">
		       <p>Tem certeza que deseja desligar o(a) estagiário(a) <span class="estagiarioName"></span>?</p>
		    </div>
		    <div class="modal-footer">
		       <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
		       <button id="desligar" type="button" class="btn btn-danger">Desligar</button>
		    </div>
	    </div>
	  </div>
	</div>

</body>

</html> 